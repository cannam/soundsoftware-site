<%= call_hook(:view_repositories_show_contextual, { :repository => @repository, :project => @project }) %>

<div class="contextual">
  <%= render :partial => 'navigation' %>
</div>

<h2><%= render :partial => 'breadcrumbs', :locals => { :path => @path, :kind => 'file', :revision => @rev } %></h2>

<p><%= render :partial => 'link_to_functions' %></p>

<% if @display_raw %>
   <% if @content.size && @content.size > Setting.file_max_size_displayed.to_i.kilobyte %>
     <em><%= l(:text_data_too_large) %></em>
   <% else %>
     <em><%= l(:text_binary_data) %></em>
   <% end %>
<% else %>
  <%= render :partial => 'common/file', :locals => {:filename => @path, :content => @content} %>
<% end %>

<% content_for :header_tags do %>
<%= stylesheet_link_tag "scm" %>
<% end %>
