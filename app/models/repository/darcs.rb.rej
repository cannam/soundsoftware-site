--- app/models/repository/darcs.rb
+++ app/models/repository/darcs.rb
@@ -85,11 +85,7 @@
                                          :comments => revision.message)
                                          
             revision.paths.each do |change|
-              Change.create(:changeset => changeset,
-                            :action => change[:action],
-                            :path => change[:path],
-                            :from_path => change[:from_path],
-                            :from_revision => change[:from_revision])
+              changeset.create_change(change)
             end
             next_rev += 1
           end if revisions
